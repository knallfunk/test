package com.wisedu.cloud.smp.web.common;


import com.wisedu.cloud.smp.biz.service.ConfigUpdateService;
import com.wisedu.cloud.smp.biz.service.impl.ConfigUpdateServiceImpl;
import org.apache.log4j.Logger;

import javax.servlet.ServletContextEvent;
import javax.servlet.ServletContextListener;


public class InitServletContextListener implements ServletContextListener {
	/**
	 * Commons Logging instance.
	 */

	private static Logger LOGGER = Logger.getLogger(InitServletContextListener.class);

	private ConfigUpdateService configUpdateService = new ConfigUpdateServiceImpl();
	
	public void contextInitialized(ServletContextEvent sce) {
		
		LOGGER.info("init system");
		try{
			configUpdateService.configInit();
			
		}catch (Exception e){
			LOGGER.error("init system meet exception:",e);
		}
		
		LOGGER.info("configUpdateService success!");
		
	}

	public void contextDestroyed(ServletContextEvent sce) {
		//do nothing
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		// do nothing

	}

}
